# The Twelve-factor App - Config
- Lưu config theo môi trường
- Config của ứng dụng là tất cả những thứ thay đổi theo phiên bản deploys (môi trường staging, production, development). Thường bao gồm:
    - Những tài nguyên như database, memcached, và những dịch vụ hỗ trợ.
    - Thông tin xác thực cho những dịch vụ bên ngoài như Amazon S3 hoặc Twitter.
    - Các giá trị cho mỗi lần deploy ví dụ như hostname.
- Ứng dụng đôi khi lưu config như là những hằng số trong code. Điều này vi phạm 12 nguyên tắc, vì việc tách biệt config và code là bắt buộc. Config thay đổi ở mỗi bản deploy còn code thì không.
- Một cách để kiểm tra ứng dụng có tất cả config được tách biệt chính xác ra khỏi code đó là codebase của nó có thể là một opensource bất cứ lúc nào và ko bị ảnh hưởng bởi thông tin xác thực nào.
- Lưu ú là định nghĩa config ở đây không bao gồm những config nội bộ của ứng dụng như là `config/routes.rb` trong `Rails`, hoặc là cách mà các modules liên kết với nhau trong `Spring`. Những loại config này thì ko bị tác động bởi các bản deploy nên tốt nhất là đặt nó trong code.
- Một cách tiếp cận khác với config là dùng file config mà nó ko được lưu hay tracking bởi hệ thống quản lí phiên bản, ví dụ như file `config/database.yml` trong `Rails`. Đây là một bước cải tiến lớn so với việc dùng hằng số được theo dõi bởi code repo, nhưng vẫn có nhược điểm, đó là dễ dàng có sai sót khi kiểm tra file config với repo; có một xu hướng là các file config được phân tán ở các nơi khác nhau và các định dạng khác nhau, làm cho nó khó đọc và quản lí chúng ở một nơi. Điều này thì tùy thuộc vào từng ngôn ngữ hay framework cố định.
- Ứng dụng tuân thủ 12 nguyên tác lưu config trong các biến  môi trường (thường được viết tắt là biến `env`). Biến env dễ dàng thay đổi giữa các bản deploy mà không cần thay đổi code, không giống như file config, thì những biến env sẽ không vô tình bị tracking trong repo, và cũng không giống như những file config tùy chỉnh, hoặc những cơ chế khác như Java System Properties, chúng là những chuẩn riêng của ngôn ngữ hoặc hệ điều hành.
- Một khía cạnh của quản lí config là gom nhóm. Thỉnh thoảng ứng dụng nhóm các config lại theo tên (thường gọi là "môi trường") dựa theo mỗi bản deploy, như là `development`, `test`, `staging`, `production` trong Rails. Phương pháp này scale không gọn gàng lắm: càng nhiều bản deploys của ứng dụng được tạo ra, thì càng cần nhiều tên môi trường ví dụ như `qa`. Và nếu project càng phát triển, developers có thể thêm những môi trường đặc biệt như `joes-staging`, kết quả là dẫn đến các config ngày càng phức tạp và làm việc quản lí trở nên khó khăn.
- Trong ứng dụng tuân thủ 12 nguyên tắc, biến `env` được quản lí một cách chi tiết,  và hoàn toàn độc lập vs các biến env khác. Chúng không được nhóm lại vs nhau như là những "môi trường", thay vào đó là được quản lí độc lập với mỗi bản deploy. Đây là một mô hình có thể scale up trơn tru như việc ứng dụng được mở rộng một cách tự nhiên thành các bản deploys trong suốt quá trình phát triển.
