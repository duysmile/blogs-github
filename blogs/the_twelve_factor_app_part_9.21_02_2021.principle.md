# The Twelve-factor App - Disposability - tính khả dụng

- Tối ưu hóa với việc khởi động nhanh và tắt ứng dụng một cách ổn định
- Process của ứng dụng tuân thủ 12 nguyên tắc luôn sẵn sàng (disposable), có nghĩa là chúng có thể được khởi chạy hoặc dừng tại một thời điểm được báo trước. Điều này tạo điều kiện cho việc mở rộng quy mô nhanh chóng, việc triển khai nhanh các thay đổi code cũng như config,  và sự linh hoạt trong quá trình phát triển sản phẩm.
- Những process nên cố gắng tối ưu thời gian khởi tạo (startup time). Ý tưởng ở đây là một process chỉ cần tốn vài giây từ khi khởi chạy lệnh thực thi đến lúc process sẵn sàng để nhận request hay thực hiện job. Thời gian khởi tạo nhanh cho phép quá trình khiển khai và mở rộng được nhanh hơn; và hỗ trợ mạnh mẽ hơn vì hệ thống quản lí các process có thể dễ dàng chuyển các process sang máy vật lí khác khi có cảnh báo.
- Process sẽ tắt một cách ổn định khi chúng nhận được tín hiệu `SIGTERM` từ process manager. Đối với web process, thì việc tắt ổn định (graceful shutdown) có thể dễ dàng thực hiện qua việc ngưng lắng nghe trên cổng service (do đó từ chối bất kì request mới nào tới), cho phép những request hiện tại hoàn tất, và sau đó thoát ra. Ý tưởng của mô hình này là request HTTP ngắn (không quá vài giây), hoặc trong trường hợp long polling thì client nên cố gắng kết nối lại liền mạch khi mất kết nối.
- Đối với worker process, việc graceful shutdown có thể thực hiện bằng cách trả về job hiện tạo cho work queue. Ví dụ, trong RabbitMQ thì worker có thể gửi `NACK`; còn trên Beanstalkd job được trả về queue tự động bất cứ khi nào worker mất kết nối. Những hệ thống lock-based như Delayed Job cần đảm bảo giải phóng lock trên những bản ghi job. Ý tưởng của mô hình này là tất cả các job có khả năng quay lại, thường đạt được bằng cách đóng gói các kết quả thành các transaction, hoặc tạo ra các toán tử không thay đổi kết quả nếu đầu vào không đổi dù gọi một hay nhiều lần (idempotent).
- Những process phải có khả năng chống lại các lỗi bất ngờ, trong trường hợp phần cứng bên dưới gặp lỗi. Đây là lỗi ít phổ biến hơn việc graceful shutdown với `SIGTERM` , nhưng nó vẫn có khả năng xảy ra. Một phương án khuyên dùng là tận dụng sự mạnh mẽ của queueing backend, như là Beanstalkd, để trả job về queue khi client mất kết nối hoặc timeout. Ngoài ra, ứng dụng tuân theo 12 nguyên tắc được thiết kế để có thể điều khiển được các trường hợp dừng hoạt động đột ngột hoặc ép buộc. Crash-only design đem khái niệm này vào các kết luận logic của nó ([https://lwn.net/Articles/191059/](https://lwn.net/Articles/191059/))
